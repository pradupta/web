<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memuat Berita... | ScoutDupta</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Ubuntu&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="https://pradupta.github.io/web/img/logo.png">
  <link rel="shortcut icon" href="https://pradupta.github.io/web/img/logo.png">

  <style>
    body { font-family: 'Poppins', sans-serif; }
    .logo-text { font-family: 'Pacifico', cursive; font-size: 1.8rem; color: #DC143C; }
    .sticky-nav { position: sticky; top: 0; z-index: 1000; background-color: #111; }
    footer { background: #111; color: #fff; }
    .footer-content h3 { font-family: 'Ubuntu', sans-serif; }
  </style>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">

  <nav class="sticky-nav text-white px-6 py-4 shadow-xl">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <div class="logo-text">ScoutDupta</div>
      <ul class="flex gap-6 items-center text-sm font-medium">
        <li><a href="index.html" class="hover:text-red-500 transition">Beranda</a></li>
        <li><a href="loginartikel.html" class="bg-red-600 px-4 py-2 rounded-lg hover:bg-white hover:text-red-600 transition">+ Tulis Artikel</a></li>
      </ul>
    </div>
  </nav>

  <main class="flex-grow max-w-4xl mx-auto py-12 px-6 bg-white shadow-sm mt-6 mb-12 rounded-xl">
    <div id="loader" class="text-center py-20">
      <div class="animate-spin rounded-full h-12 w-12 border-t-4 border-red-600 mx-auto"></div>
      <p class="mt-4 text-gray-500">Membaca berita...</p>
    </div>

    <article id="article-content" class="hidden">
      <a href="berita.html" class="inline-block mb-6 text-red-600 font-medium hover:underline">
        <i class="fas fa-chevron-left mr-2"></i>Kembali ke Daftar Berita
      </a>
      <h1 id="det-judul" class="text-3xl md:text-5xl font-extrabold text-gray-900 mb-6 leading-tight"></h1>
      
      <div class="flex items-center text-gray-500 text-sm mb-8 border-b pb-6" id="det-meta"></div>
      
      <div class="overflow-hidden rounded-2xl mb-10 shadow-lg">
        <img id="det-img" class="w-full h-auto transform hover:scale-105 transition duration-500" src="">
      </div>
      
      <div id="det-isi" class="prose prose-lg max-w-none text-gray-800 leading-relaxed whitespace-pre-line text-lg"></div>
    </article>
  </main>

  <footer class="py-12 px-6">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10">
      <div class="footer-content">
        <h3 class="text-2xl font-bold mb-4 text-red-500">ScoutDupta</h3>
        <p class="text-gray-400 text-sm leading-relaxed">
          Wadah informasi dan kreativitas Pramuka RAKSALA. Menginspirasi melalui berita dan aksi nyata kepramukaan.
        </p>
      </div>
      <div>
        <h3 class="text-xl font-semibold mb-4 border-b border-red-600 pb-2 inline-block">Navigasi</h3>
        <ul class="text-gray-400 text-sm space-y-2 mt-4">
          <li><a href="index.html" class="hover:text-white transition">Beranda</a></li>
          <li><a href="berita.html" class="hover:text-white transition">Berita Utama</a></li>
          <li><a href="index.html/#projects" class="hover:text-white transition">Galeri Kegiatan</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-xl font-semibold mb-4 border-b border-red-600 pb-2 inline-block">Kontak Kami</h3>
        <div class="flex gap-4 mt-4 text-2xl">
          <a href="#" class="text-gray-400 hover:text-red-500 transition"><i class="fab fa-instagram"></i></a>
          <a href="#" class="text-gray-400 hover:text-red-500 transition"><i class="fab fa-youtube"></i></a>
          <a href="#" class="text-gray-400 hover:text-red-500 transition"><i class="fas fa-envelope"></i></a>
        </div>
      </div>
    </div>
    <div class="text-center mt-12 pt-8 border-t border-gray-800 text-gray-500 text-xs">
      &copy; 2026 Pradsupta. All Rights Reserved.
    </div>
  </footer>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbyueNjbiYgaR3ePZfPvTc3t9InJGyWW709buzYXwr7ZDI61_H3ozfhAMo-whXrukmeG4g/exec';

   async function getArticle() {
      const urlParams = new URLSearchParams(window.location.search);
      const id = urlParams.get('id');

      if (!id) { window.location.href = 'berita.html'; return; }

      try {
        const response = await fetch(scriptURL);
        const data = await response.json();
        const post = data[id];

        if (post) {
          const rawDate = post[0]; 
          const formattedDate = new Date(rawDate).toLocaleDateString('id-ID', {
            day: 'numeric',
            month: 'long',
            year: 'numeric'
          });

          document.title = post[1] + " | ScoutDupta";
          document.getElementById('det-judul').innerText = post[1];
          
          document.getElementById('det-meta').innerHTML = `
            <div class="flex items-center">
              <div class="bg-red-100 text-red-600 px-3 py-1 rounded-full text-xs font-bold mr-4 uppercase">Berita</div>
              By <span class="font-bold text-gray-900 ml-1">${post[2]}</span> 
              <span class="mx-3 text-gray-300">|</span> 
              <i class="far fa-calendar-alt mr-2 text-red-500"></i> ${formattedDate}
            </div>
          `;

          // Tampilkan Isi Artikel dari Spreadsheet
          document.getElementById('det-isi').innerHTML = post[3];
          
          // --- LOGIKA PDF KHUSUS ID 7 ---
          if (id === "7") {
            const pdfHtml = `
              <div class="mt-12 border-t-2 border-red-600 pt-8">
                <h3 class="text-xl font-bold mb-4 text-gray-900">Dokumen Lampiran:</h3>
                <div style="position: relative; width: 100%; height: 0; padding-top: 141.4%; background: #f3f4f6; border-radius: 12px; overflow: hidden; border: 1px solid #e5e7eb; shadow: lg;">
                  <iframe 
                    src="https://drive.google.com/file/d/1iGIOK7EmnnUkQYiOwfqep_diOcb_hH5y/preview" 
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"
                    allow="autoplay">
                  </iframe>
                </div>
              </div>
            `;
            document.getElementById('det-isi').insertAdjacentHTML('beforeend', pdfHtml);
          }
          // ------------------------------
          
          if(post[4]) {
            document.getElementById('det-img').src = post[4];
          } else {
            document.getElementById('det-img').parentElement.style.display = 'none';
          }

          document.getElementById('loader').classList.add('hidden');
          document.getElementById('article-content').classList.remove('hidden');
        }
      } catch (e) {
        console.error(e);
        alert("Gagal memuat konten.");
      }
    }
  </script>
</body>
</html>
