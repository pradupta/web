<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Formulir Pendaftaran Pramuka</title>
  <script>
    async function submitForm(event) {
      event.preventDefault();
      const form = document.getElementById('form');
      const formData = new FormData(form);

      const data = {
        namaPanggilan: formData.get("namaPanggilan"),
        namaLengkap: formData.get("namaLengkap"),
        jenisKelamin: formData.get("jenisKelamin"),
        agama: formData.get("agama"),
        ttl: formData.get("tempat") + ", " + formData.get("tanggal"),
        alamat: formData.get("alamat"),
        kelas: formData.get("kelas"),
        email: formData.get("email"),
        wa: formData.get("wa"),
        hobi: formData.get("hobi"),
        citaCita: formData.get("citaCita"),
        motoHidup: formData.get("motoHidup"),
        alasan: formData.get("alasan")
      };

      try {
        await fetch("https://script.google.com/macros/s/AKfycbwcl_A7n5rXRkszu0BxWYjTz2wGumboGipYjnP-EaRBMxHFsqvA3DlsiaJlyk612Y7k/exec", {
          method: "POST",
          body: JSON.stringify(data),
        });

        alert("Pendaftaran berhasil!");
        form.reset();
      } catch (error) {
        alert("Terjadi kesalahan. Silakan coba lagi.");
        console.error(error);
      }
    }
  </script>
</head>
<body>
  <h2>Formulir Pendaftaran Calon Anggota Pramuka</h2>
  <form id="form" onsubmit="submitForm(event)">
    <label>Nama Panggilan: <input type="text" name="namaPanggilan" required></label><br>
    <label>Nama Lengkap: <input type="text" name="namaLengkap" required></label><br>
    <label>Jenis Kelamin:
      <select name="jenisKelamin" required>
        <option value="">Pilih</option>
        <option>Laki-laki</option>
        <option>Perempuan</option>
      </select>
    </label><br>
    <label>Agama:
      <select name="agama" required>
        <option value="">Pilih</option>
        <option>Islam</option>
        <option>Kristen</option>
        <option>Katolik</option>
        <option>Hindu</option>
        <option>Buddha</option>
        <option>Konghucu</option>
      </select>
    </label><br>
    <label>Tempat Lahir: <input type="text" name="tempat" required></label><br>
    <label>Tanggal Lahir: <input type="date" name="tanggal" required></label><br>
    <label>Alamat Lengkap: <input type="text" name="alamat" required></label><br>
    <label>Kelas/Ruangan: <input type="text" name="kelas" required></label><br>
    <label>Email: <input type="email" name="email" required></label><br>
    <label>No. Telp/WA: <input type="tel" name="wa" required></label><br>
    <label>Hobi: <input type="text" name="hobi"></label><br>
    <label>Cita-cita: <input type="text" name="citaCita"></label><br>
    <label>Moto Hidup: <input type="text" name="motoHidup"></label><br>
    <label>Alasan Masuk Pramuka:<br>
      <textarea name="alasan" rows="3"></textarea>
    </label><br>
    <button type="submit">Kirim</button>
  </form>
</body>
</html>
